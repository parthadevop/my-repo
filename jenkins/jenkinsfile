pipeline {
agent none // no global agent
stages {
stage('Stage 1') {
node('master') { // run on master
echo "Running on $ {env.NODE_NAME}"
echo "Master URL is $ {env.JENKINS_URL}"
}
}
stage('Stage 2') {
node('Node1') { // run on slave
echo "Running on $ {env.NODE_NAME}"
echo "Slave URL is $ {env.JENKINS_URL}/computer/$ {env.NODE_NAME}/"
}
}
}
}
